<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script src="./js/vue.js"></script>
	</head>
	<body>
		<div id="app">
			<head>
				<title>给链接追加参数</title>
				<style>
					span{border:1px solid #ccc;margin:10px;padding:5px;display:block;width:190px;border-radius:5px;}
				</style>
			</head>
			<body>
				<span @click="get_current_url('a','你好')">添加值为[你好]的参数[a]</span>
				<span οnclick="get_current_url('b',123)">添加值为[123]的参数[b]</span>
				<span οnclick="get_current_url('c','hello')">添加值为[hello]的参数[c]</span>
				<span οnclick="get_current_url('c','world')">添加值为[world]的参数[c]</span>
			</body>
		</div>
		<script >

			var vm = new Vue({
				el: '#app',
				data: {
					
				},
				created() {
					// async getGoodsList() { 
					// 	var list = await GoodService.getGoodsById("709b4af6876611e983428de74b6b2e6d");
					// 	console.log("11111111")
					// 
					// },
				},
				methods: {
					get_current_url(param, value){
						var param_value = "";
						var connector = "";	//参数连接符
						var add_param = param + "=" + value;
						
						var current_href = window.location.href;
						if(current_href.indexOf("?") >= 0 ) { 
							connector = "&";
						}else{
							connector = "?";
						}
						if(current_href.indexOf(param) >= 0){	//如果参数存在，就替换此参数
							param_value = get_url_param(param);
							var pre_param = param + "=" + param_value;
							current_href = current_href.replace(pre_param,add_param);
						}else{
							current_href += connector + add_param;
						}
						window.location.href = current_href;
					}
					 
					//获取url中参数的值
					get_url_param(name) {
					    var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); //构造一个含有目标参数的正则表达式对象
					    var r = window.location.search.substr(1).match(reg);  //匹配目标参数
					    if (r != null) return r[2]; return null; //返回参数值        
					    //if (r != null) return unescape(r[2]); return null; //返回参数值
					}

				}
			})
		</script>

	</body>
</html>